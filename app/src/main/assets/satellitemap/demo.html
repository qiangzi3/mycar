<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <title>百度地图离线API V2.1</title>
	<style type="text/css">
  body, html,#map_demo, #tab, #mapfrm {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
  #menu{height:100%;overflow-y:auto}
  td{font-size:14px}
  h4{margin:0;}
  </style>
  <script type="text/javascript" src="offlinemap/map_load.js"></script>
  <link rel="stylesheet" type="text/css" href="offlinemap/css/map.css"/>
</head>
<body>
<div id="map_demo"></div>
</body>
<script type="text/javascript">
	var map = new BMap.Map("map_demo",{minZoom:15,maxZoom:19});
	map.centerAndZoom(new BMap.Point(106.809971073837,26.543016817756), 16);
	map.enableScrollWheelZoom(true);
	map.addControl(new BMap.NavigationControl());
	function createMarker(point,info,map)
	{
	var marker = new BMap.Marker(point); 	// 将标注添加到地图中
	var label = new BMap.Label(info,{offset:new BMap.Size(20,-10)});
	marker.setLabel(label);
	map.addOverlay(marker); 
	}
	
	var linePoints = [
		new BMap.Point(106.81175449,26.54419939),
		new BMap.Point(106.81169160,26.54389234),
		new BMap.Point(106.81163769,26.54362570),
		new BMap.Point(106.81161074,26.54342369),
		new BMap.Point(106.81156582,26.54320553),
		new BMap.Point(106.81152988,26.54296312),
		new BMap.Point(106.81148496,26.54276112),
		new BMap.Point(106.81144902,26.54257528),
		new BMap.Point(106.81141308,26.54240559),
		new BMap.Point(106.81136816,26.54221167),
		new BMap.Point(106.81131425,26.54190462),
		new BMap.Point(106.81122441,26.54150060),
		new BMap.Point(106.81108964,26.54082186),
		new BMap.Point(106.81093691,26.54006230),
		new BMap.Point(106.81087402,26.53965828)
	];
	for(i =0;i < linePoints.length;i++)
	{
		createMarker(linePoints[i],"车速10Km/s",map);
	}
	/*//绘制线
	var polyline = new BMap.Polyline(linePoints, {strokeColor:"red", strokeWeight:4, strokeOpacity:0.5});
	map.addOverlay(polyline);

	//超级玛丽
	var myIcon = new BMap.Icon("offlinemap/images/Mario.png", new BMap.Size(32, 70), { 
		imageOffset: new BMap.Size(0, 0)
	});
	var carMk = new BMap.Marker(linePoints[0],{icon:myIcon});
	map.addOverlay(carMk);

	setTimeout(function(){
		changePosition(0);
	},1000);

	// 改变超级玛丽位置
	function changePosition(idx){
		carMk.setPosition(linePoints[idx]);
		if(idx == linePoints.length)
			idx = 0;
		else
			idx += 1;
		setTimeout(function(){
			changePosition(idx);
		},1500);
	}

	var circle = new BMap.Circle(new BMap.Point(106.81175449,26.54419939),800);
	map.addOverlay(circle);*/
	
</script>
</html>
